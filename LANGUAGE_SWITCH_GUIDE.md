# 语言切换功能使用指南

## 📖 功能概述

EasyImageCopy 插件现已支持用户手动切换界面语言，提供了比浏览器自动检测更灵活的语言控制选项。

## 🌍 支持的语言

- **中文** - 完整的简体中文界面
- **English** - 完整的英文界面
- **跟随浏览器** - 自动检测浏览器语言设置

## 🎯 使用方法

### 1. 找到语言设置
1. 点击浏览器工具栏中的 EasyImageCopy 插件图标
2. 在弹出的设置面板中，找到"界面语言"或"Interface Language"选项
3. 这是一个下拉选择框，位于快速复制按钮开关的下方

### 2. 切换语言
1. 点击语言下拉选择框
2. 选择你想要的语言：
   - **跟随浏览器** - 自动根据浏览器语言显示中文或英文
   - **中文** - 强制使用中文界面
   - **English** - 强制使用英文界面
3. 选择后会立即生效，界面会刷新并显示为选中的语言

### 3. 设置保存
- 你的语言选择会自动保存到浏览器本地存储
- 下次打开插件时会记住你的选择
- 不同浏览器配置文件之间的设置是独立的

## 🔧 技术实现

### 自动语言检测逻辑
当选择"跟随浏览器"时：
- 如果浏览器语言是中文（zh-*），显示中文界面
- 其他所有语言都显示英文界面

### 语言包加载
- 插件使用 Chrome 的国际化 API (`chrome.i18n`)
- 支持动态加载语言包文件
- 提供降级机制，确保在语言包加载失败时仍能显示默认内容

### 存储方式
```javascript
// 语言设置存储在 chrome.storage.local 中
{
  "userLanguage": "zh_CN" | "en" | "auto"
}
```

## 🛠️ 开发者说明

### 添加新语言
如果要添加新的语言支持：

1. 在 `_locales/` 目录下创建新的语言文件夹（如 `ja` 表示日语）
2. 复制现有的 `messages.json` 文件并翻译所有消息
3. 在 `popup.html` 中的语言选择器添加新选项
4. 更新 `getCurrentLanguage()` 函数的逻辑

### 语言包结构
每个语言包包含约50个消息条目，涵盖：
- 插件基础信息（名称、描述）
- 界面元素（标签、按钮、占位符）
- 状态消息（成功、错误、进度）
- 帮助文本和描述

## 🎨 用户体验

### 视觉反馈
- 语言切换后会显示确认消息
- 切换失败时会显示错误提示
- 界面元素会立即更新为新语言

### 性能优化
- 语言包按需加载，不影响插件启动速度
- 使用缓存机制避免重复加载
- 降级机制确保在网络问题时仍能正常使用

## 📝 常见问题

### Q: 为什么切换语言后有些文本没有变化？
A: 某些动态生成的内容可能需要重新操作才能更新。建议关闭并重新打开插件面板。

### Q: 可以添加更多语言吗？
A: 当前版本支持中文和英文。如果有其他语言需求，可以在 GitHub 上提交 Issue 或 Pull Request。

### Q: 语言设置会同步到其他设备吗？
A: 目前语言设置只保存在本地。如果需要同步功能，可以考虑在未来版本中使用 `chrome.storage.sync`。

## 🔄 更新日志

### v1.1.0
- ✅ 添加手动语言切换功能
- ✅ 支持中文、英文和自动检测
- ✅ 语言设置持久化存储
- ✅ 完整的用户界面国际化

---

通过这个语言切换功能，用户可以根据自己的偏好选择最舒适的界面语言，提升了插件的可用性和用户体验。
